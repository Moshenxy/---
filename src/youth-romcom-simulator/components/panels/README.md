# 面板组件 (Panels)

此目录存放所有在模态框中显示的独立功能面板。

## 化身世界面板

### `AvatarPanel.vue`
- **功能**: 显示当前**化身**的核心属性、状态和`世界专属属性`。
- **数据源**: `currentAvatar` getter。

### `AvatarInventoryPanel.vue`
- **功能**: 展示当前**化身**所持有的物品。
- **数据源**: `currentAvatar` getter, 访问其下的背包相关字段。
- **状态**: 当前为基本框架，待实现详细的物品渲染逻辑。

### `TasksPanel.vue`
- **功能**: 显示当前**化身**的`本世宿命`，包括终极任务、命运节点和所有衍生任务。
- **数据源**: `currentAvatar` getter, 访问其下的 `本世宿命` 对象。
- **状态**: 当前为基本框架，待实现详细的任务渲染逻辑。

## 主世界面板

### `CharacterPanel.vue`
- **功能**: 显示玩家**本体**的核心属性，如`基础潜力`、`灵魂本源`等。

### `InventoryPanel.vue`
- **功能**: 显示玩家**本体**的背包，包括`消耗品`、`奇物`、`材料`和`羁绊`。

### `ImprintsPanel.vue`
- **功能**: 显示玩家**本体**已固化的`轮回烙印`。

## 通用与特殊面板

### `WorldDetailsPanel.vue`
- **功能**: 一个通用面板，用于显示指定世界（主世界或化身世界）的详细设定和规则。

### `ReincarnationPanel.vue`
- **功能**: 负责处理整个轮回流程的复杂面板，包括世界选择、化身选择和轮回结算。
- **宿命抉择重构**:
    - **组件化**: 创建了独立的 `SettlementView.vue` 和 `SettlementChoiceCard.vue` 组件，专门用于显示宿命抉择的选项，取代了旧的、有问题的 `DestinyChoice.vue`。
    - **数据健壮性**: `SettlementView.vue` 现在能更精确地从 `store` 中获取 `模拟器.结算.宿命抉择` 数据，并能处理嵌套数组等潜在的数据结构问题，确保选项能被正确渲染。
    - **样式统一**: 为新组件设计了符合“归墟道镜”主题的 SCSS 样式，使其视觉效果更加突出和美观。
    - **功能完善**: 实现了“固化烙印”按钮的正确逻辑，点击后会将指令添加到行动队列，并能准确判断玩家“本体”的灵魂本源是否充足。