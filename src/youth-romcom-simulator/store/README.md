# Store (状态管理)

本目录使用类似 Pinia 的思想，实现了一个轻量级的全局状态管理中心。

## 文件结构

-   **`index.ts`**: 组合并导出所有 store 模块，提供统一的入口。
-   **`state.ts`**: 定义了应用的核心 `state` (状态)。包含了 `character` (玩家角色), `worldState` (世界状态), `pendingActions` (待处理的用户指令) 等响应式数据。
-   **`getters.ts`**: 包含了所有的 `getters` (计算属性)。它们负责从原始的 `state` 中派生出 UI 需要的、经过计算和格式化的数据。例如，从 `worldState` 中提取并组合出好友列表、聊天记录等。**这是前端数据处理的核心**。
-   **`actions.ts`**: 定义了所有的 `actions` (动作)。它们负责处理用户交互、与酒馆后端通信、调用AI生成回复、更新状态等异步或复杂的业务逻辑。
-   **`cache.ts`**: 实现了将部分状态（如社交数据）缓存到浏览器 `localStorage` 的逻辑，以提高加载速度和实现数据持久化。
