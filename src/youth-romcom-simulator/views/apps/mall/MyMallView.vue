<template>
  <div class="my-mall-view mall-page-container">
    <div class="user-info-card">
      <h2>{{ userFullName }}</h2>
      <p>ä½™é¢: Â¥ {{ money }}</p>
    </div>
    
    <div class="pending-orders">
      <h3 class="section-title">å¾…æ”¶è´§çš„è®¢å•</h3>
      <div v-if="pendingOrders.length === 0" class="empty-state">
        <p>ğŸ“¦</p>
        <p>æ²¡æœ‰å¾…æ”¶è´§çš„è®¢å•</p>
      </div>
      <div v-else>
        <div v-for="(order, index) in pendingOrders" :key="order.ID || index" class="order-item">
          <span class="order-details">{{ order.åç§° }} x{{ order.æ•°é‡ }}</span>
          <span class="order-delivery-time">é¢„è®¡é€è¾¾: {{ new Date(order.é€è´§æ—¶é—´).toLocaleString() }}</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue';
import { store, getters } from '../../../store';

const character = computed(() => store.character);
const money = computed(() => getters.money.value);
const pendingOrders = computed(() => getters.pendingOrders.value);
const userFullName = computed(() => getters.userFullName.value);
</script>

<style scoped lang="scss">
// æ ·å¼å·²è¿ç§»åˆ° /styles/apps/mall.scss
.empty-state p:first-child {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}
</style>